template:
  id: "bmad.qa.defect-investigation.v1"
  name: "QA â€” Defect Investigation"
sections:
  - id: "defect_summary"
    title: "Defect Summary"
    description: "High-level bug description. Example: 'Bug #456: Tasks disappear after refresh when AI prioritization is enabled. Reported by 3 beta users. Cannot reproduce consistently.'"
  - id: "reproduction_steps"
    title: "Reproduction Steps"
    description: "How to reproduce the bug. Example: 'Steps: 1. Enable AI prioritization, 2. Create 3 new tasks, 3. Wait 10 seconds, 4. Refresh page, 5. Tasks sometimes missing (20% reproduction rate).'"
  - id: "environment_details"
    title: "Environment Details"
    description: "Where bug occurs. Example: 'Environment: Production, beta users. Browser: Chrome 122, Firefox 123. OS: Windows, Mac. Account: Standard users with 50-200 tasks. Not in staging.'"
  - id: "investigation_findings"
    title: "Investigation Findings"
    description: "What was discovered. Example: 'Findings: Race condition in save logic. AI processing delays task save. Frontend fetches before save completes. Intermittent timing issue. Logs show 429 rate limit errors.'"
  - id: "root_cause"
    title: "Root Cause Analysis"
    description: "Why the bug happens. Example: 'Root cause: AI processing triggers multiple save requests rapidly. Backend rate limits hit (10 req/min). Some saves fail silently. Frontend doesn't handle 429 errors.'"
  - id: "severity_assessment"
    title: "Severity Assessment"
    description: "Bug impact and priority. Example: 'Severity: P1 (Critical). Impact: Data loss for users. Frequency: 20% of AI prioritization uses. Workaround: Disable AI. Affects: ~50 beta users (5%).'"
  - id: "proposed_fix"
    title: "Proposed Fix"
    description: "Recommended solution. Example: 'Fix: 1. Increase rate limit for AI endpoint, 2. Add retry logic with exponential backoff, 3. Show error toast on 429, 4. Optimistic UI with rollback.'"
  - id: "testing_recommendations"
    title: "Testing Recommendations"
    description: "How to test the fix. Example: 'Test: 1. Rapid task creation (>10 in 1min), 2. Verify retry behavior, 3. Test rate limit handling, 4. Add regression test. Load test: 100 concurrent users.'"
  - id: "prevention"
    title: "Prevention Measures"
    description: "How to prevent similar bugs. Example: 'Prevention: 1. Add rate limit tests to CI, 2. Better error handling guidelines, 3. Load testing checklist, 4. Review all async save operations.'"
metadata:
  usage: "defect-management"
  priority: "high"
  workflow: "investigation"
